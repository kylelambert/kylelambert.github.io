import{S as ee,i as te,s as re,k as C,e as h,w as se,t as G,L as ae,d as a,m as P,c as _,a as m,x as oe,h as S,b as u,g as w,J as o,y as le,q as ne,o as ue,B as ie,K as $,j as x,f as ce,R as J,Q as R,T as fe}from"../../chunks/vendor-15834c12.js";import{W as pe}from"../../chunks/wordleNav-f5b7aec8.js";function de(E){let t,s;return{c(){t=h("p"),s=G("Form Error: Refresh and Try Again?"),this.h()},l(e){t=_(e,"P",{class:!0});var r=m(t);s=S(r,"Form Error: Refresh and Try Again?"),r.forEach(a),this.h()},h(){u(t,"class","error")},m(e,r){w(e,t,r),o(t,s)},p:$,d(e){e&&a(t)}}}function he(E){let t,s,e,r,i,v;return{c(){t=h("p"),s=G(E[4]),e=C(),r=h("a"),i=h("span"),v=G("Play the game"),this.h()},l(p){t=_(p,"P",{class:!0});var l=m(t);s=S(l,E[4]),l.forEach(a),e=P(p),r=_(p,"A",{href:!0,class:!0});var d=m(r);i=_(d,"SPAN",{class:!0});var k=m(i);v=S(k,"Play the game"),k.forEach(a),d.forEach(a),this.h()},h(){u(t,"class","success"),u(i,"class","front"),u(r,"href","/wordle"),u(r,"class","button-link")},m(p,l){w(p,t,l),o(t,s),w(p,e,l),w(p,r,l),o(r,i),o(i,v)},p(p,l){l&16&&x(s,p[4])},d(p){p&&a(t),p&&a(e),p&&a(r)}}}function _e(E){let t,s,e,r,i,v,p,l,d,k,n,c,f,b,y,A,j,L,V,D,T,I,q,O,F,W;return{c(){t=h("div"),s=h("div"),e=h("input"),r=C(),i=h("label"),v=G("Group Name"),p=C(),l=h("div"),d=h("input"),k=C(),n=h("label"),c=G("Group Code"),f=C(),b=h("button"),y=h("span"),A=G("Create Group"),j=C(),L=h("p"),V=G(E[2]),D=C(),T=h("div"),I=h("a"),q=h("span"),O=G("Join a group instead"),this.h()},l(g){t=_(g,"DIV",{class:!0});var N=m(t);s=_(N,"DIV",{class:!0});var U=m(s);e=_(U,"INPUT",{id:!0,name:!0,placeholder:!0}),r=P(U),i=_(U,"LABEL",{for:!0});var Y=m(i);v=S(Y,"Group Name"),Y.forEach(a),U.forEach(a),p=P(N),l=_(N,"DIV",{class:!0});var B=m(l);d=_(B,"INPUT",{id:!0,name:!0,placeholder:!0}),k=P(B),n=_(B,"LABEL",{for:!0});var z=m(n);c=S(z,"Group Code"),z.forEach(a),B.forEach(a),f=P(N),b=_(N,"BUTTON",{class:!0,style:!0});var H=m(b);y=_(H,"SPAN",{class:!0});var K=m(y);A=S(K,"Create Group"),K.forEach(a),H.forEach(a),j=P(N),L=_(N,"P",{class:!0});var M=m(L);V=S(M,E[2]),M.forEach(a),N.forEach(a),D=P(g),T=_(g,"DIV",{class:!0});var Q=m(T);I=_(Q,"A",{href:!0,class:!0});var X=m(I);q=_(X,"SPAN",{class:!0});var Z=m(q);O=S(Z,"Join a group instead"),Z.forEach(a),X.forEach(a),Q.forEach(a),this.h()},h(){u(e,"id","groupName"),u(e,"name","groupName"),u(e,"placeholder"," "),e.required=!0,u(i,"for","groupName"),u(s,"class","input-wrapper"),u(d,"id","groupCode"),u(d,"name","groupCode"),u(d,"placeholder"," "),d.required=!0,u(n,"for","groupCode"),u(l,"class","input-wrapper"),u(y,"class","front"),u(b,"class","button-link"),ce(b,"margin-top","10px"),u(L,"class","error"),u(t,"class","form"),u(q,"class","front"),u(I,"href","/wordle/join-group"),u(I,"class","button-link"),u(T,"class","separator")},m(g,N){w(g,t,N),o(t,s),o(s,e),J(e,E[0]),o(s,r),o(s,i),o(i,v),o(t,p),o(t,l),o(l,d),J(d,E[1]),o(l,k),o(l,n),o(n,c),o(t,f),o(t,b),o(b,y),o(y,A),o(t,j),o(t,L),o(L,V),w(g,D,N),w(g,T,N),o(T,I),o(I,q),o(q,O),F||(W=[R(e,"input",E[7]),R(d,"input",E[8]),R(b,"click",E[6])],F=!0)},p(g,N){N&1&&e.value!==g[0]&&J(e,g[0]),N&2&&d.value!==g[1]&&J(d,g[1]),N&4&&x(V,g[2])},d(g){g&&a(t),g&&a(D),g&&a(T),F=!1,fe(W)}}}function me(E){let t,s,e,r,i,v,p,l,d,k;return{c(){t=h("p"),s=G("You need to login or create an account first!"),e=C(),r=h("a"),i=h("span"),v=G("Login"),p=C(),l=h("a"),d=h("span"),k=G("I need an account!"),this.h()},l(n){t=_(n,"P",{class:!0});var c=m(t);s=S(c,"You need to login or create an account first!"),c.forEach(a),e=P(n),r=_(n,"A",{class:!0,href:!0});var f=m(r);i=_(f,"SPAN",{class:!0});var b=m(i);v=S(b,"Login"),b.forEach(a),f.forEach(a),p=P(n),l=_(n,"A",{class:!0,href:!0});var y=m(l);d=_(y,"SPAN",{class:!0});var A=m(d);k=S(A,"I need an account!"),A.forEach(a),y.forEach(a),this.h()},h(){u(t,"class","error"),u(i,"class","front"),u(r,"class","button-link"),u(r,"href","/wordle/login"),u(d,"class","front"),u(l,"class","button-link"),u(l,"href","/wordle/create-user")},m(n,c){w(n,t,c),o(t,s),w(n,e,c),w(n,r,c),o(r,i),o(i,v),w(n,p,c),w(n,l,c),o(l,d),o(d,k)},p:$,d(n){n&&a(t),n&&a(e),n&&a(r),n&&a(p),n&&a(l)}}}function ve(E){let t,s,e,r,i,v,p,l,d;r=new pe({});function k(f,b){if(!f[5])return me;if(f[5]&&!f[4])return _e;if(f[4])return he;if(f[3])return de}let n=k(E),c=n&&n(E);return{c(){t=C(),s=h("div"),e=h("section"),se(r.$$.fragment),i=C(),v=h("h1"),p=G("Create A New Group"),l=C(),c&&c.c(),this.h()},l(f){ae('[data-svelte="svelte-1tm7o1a"]',document.head).forEach(a),t=P(f),s=_(f,"DIV",{class:!0});var y=m(s);e=_(y,"SECTION",{class:!0});var A=m(e);oe(r.$$.fragment,A),i=P(A),v=_(A,"H1",{class:!0});var j=m(v);p=S(j,"Create A New Group"),j.forEach(a),l=P(A),c&&c.l(A),A.forEach(a),y.forEach(a),this.h()},h(){document.title="New Group | Wordle VS",u(v,"class","svelte-1nhk1vy"),u(e,"class","wordle-section"),u(s,"class","wordle-wrapper")},m(f,b){w(f,t,b),w(f,s,b),o(s,e),le(r,e,null),o(e,i),o(e,v),o(v,p),o(e,l),c&&c.m(e,null),d=!0},p(f,[b]){n===(n=k(f))&&c?c.p(f,b):(c&&c.d(1),c=n&&n(f),c&&(c.c(),c.m(e,null)))},i(f){d||(ne(r.$$.fragment,f),d=!0)},o(f){ue(r.$$.fragment,f),d=!1},d(f){f&&a(t),f&&a(s),ie(r),c&&c.d()}}}function be(E,t,s){var c;let e="",r="",i="",v="",p="",l=(c=globalThis.localStorage)==null?void 0:c.getItem("token");async function d(){var f;if(!l){s(2,i="You are somehow not logged in anymore!");return}if(!e||!r){s(2,i="All those fields are required.");return}if(!/^[a-z0-9_]+$/i.test(e)){s(2,i="Group name must be alphanumeric.");return}if(!/^[a-z0-9@$!%*?&]+$/i.test(r)){s(2,i="Group code must be alphanumeric characters, @, $, !, %, *, ?, or &.");return}try{let y=await(await fetch("/api/wordle/createGroup.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupName:e,groupCode:r,adminUserToken:l})})).json();y.status==="success"?(s(2,i=""),s(4,p=y.message),(f=globalThis.localStorage)==null||f.setItem("hasGroups","true")):s(2,i=y.message)}catch(b){s(3,v=b)}}function k(){e=this.value,s(0,e)}function n(){r=this.value,s(1,r)}return[e,r,i,v,p,l,d,k,n]}class ye extends ee{constructor(t){super();te(this,t,be,ve,re,{})}}export{ye as default};
