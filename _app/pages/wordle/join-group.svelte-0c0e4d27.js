import{S as ee,i as te,s as re,k as G,e as h,w as se,t as P,L as ae,d as a,m as T,c as _,a as m,x as oe,h as S,b as u,g as N,J as o,y as le,q as ne,o as ue,B as ie,K as $,j as x,f as ce,R as O,Q as R,T as fe}from"../../chunks/vendor-15834c12.js";import{W as pe}from"../../chunks/wordleNav-f5b7aec8.js";function de(b){let t,s;return{c(){t=h("p"),s=P("Form Error: Refresh and Try Again?"),this.h()},l(e){t=_(e,"P",{class:!0});var r=m(t);s=S(r,"Form Error: Refresh and Try Again?"),r.forEach(a),this.h()},h(){u(t,"class","error")},m(e,r){N(e,t,r),o(t,s)},p:$,d(e){e&&a(t)}}}function he(b){let t,s,e,r,i,v;return{c(){t=h("p"),s=P(b[4]),e=G(),r=h("a"),i=h("span"),v=P("Play the game"),this.h()},l(p){t=_(p,"P",{class:!0});var l=m(t);s=S(l,b[4]),l.forEach(a),e=T(p),r=_(p,"A",{href:!0,class:!0});var d=m(r);i=_(d,"SPAN",{class:!0});var w=m(i);v=S(w,"Play the game"),w.forEach(a),d.forEach(a),this.h()},h(){u(t,"class","success"),u(i,"class","front"),u(r,"href","/wordle"),u(r,"class","button-link")},m(p,l){N(p,t,l),o(t,s),N(p,e,l),N(p,r,l),o(r,i),o(i,v)},p(p,l){l&16&&x(s,p[4])},d(p){p&&a(t),p&&a(e),p&&a(r)}}}function _e(b){let t,s,e,r,i,v,p,l,d,w,n,c,f,E,y,A,j,J,q,V,I,C,L,U,F,W;return{c(){t=h("div"),s=h("div"),e=h("input"),r=G(),i=h("label"),v=P("Group Name"),p=G(),l=h("div"),d=h("input"),w=G(),n=h("label"),c=P("Group Code"),f=G(),E=h("button"),y=h("span"),A=P("Join Group"),j=G(),J=h("p"),q=P(b[2]),V=G(),I=h("div"),C=h("a"),L=h("span"),U=P("Create a new group"),this.h()},l(g){t=_(g,"DIV",{class:!0});var k=m(t);s=_(k,"DIV",{class:!0});var D=m(s);e=_(D,"INPUT",{id:!0,name:!0,placeholder:!0}),r=T(D),i=_(D,"LABEL",{for:!0});var Y=m(i);v=S(Y,"Group Name"),Y.forEach(a),D.forEach(a),p=T(k),l=_(k,"DIV",{class:!0});var B=m(l);d=_(B,"INPUT",{id:!0,name:!0,placeholder:!0}),w=T(B),n=_(B,"LABEL",{for:!0});var z=m(n);c=S(z,"Group Code"),z.forEach(a),B.forEach(a),f=T(k),E=_(k,"BUTTON",{class:!0,style:!0});var H=m(E);y=_(H,"SPAN",{class:!0});var K=m(y);A=S(K,"Join Group"),K.forEach(a),H.forEach(a),j=T(k),J=_(k,"P",{class:!0});var M=m(J);q=S(M,b[2]),M.forEach(a),k.forEach(a),V=T(g),I=_(g,"DIV",{class:!0});var Q=m(I);C=_(Q,"A",{href:!0,class:!0});var X=m(C);L=_(X,"SPAN",{class:!0});var Z=m(L);U=S(Z,"Create a new group"),Z.forEach(a),X.forEach(a),Q.forEach(a),this.h()},h(){u(e,"id","groupName"),u(e,"name","groupName"),u(e,"placeholder"," "),e.required=!0,u(i,"for","groupName"),u(s,"class","input-wrapper"),u(d,"id","groupCode"),u(d,"name","groupCode"),u(d,"placeholder"," "),d.required=!0,u(n,"for","groupCode"),u(l,"class","input-wrapper"),u(y,"class","front"),u(E,"class","button-link"),ce(E,"margin-top","10px"),u(J,"class","error"),u(t,"class","form"),u(L,"class","front"),u(C,"href","/wordle/create-group"),u(C,"class","button-link"),u(I,"class","separator")},m(g,k){N(g,t,k),o(t,s),o(s,e),O(e,b[0]),o(s,r),o(s,i),o(i,v),o(t,p),o(t,l),o(l,d),O(d,b[1]),o(l,w),o(l,n),o(n,c),o(t,f),o(t,E),o(E,y),o(y,A),o(t,j),o(t,J),o(J,q),N(g,V,k),N(g,I,k),o(I,C),o(C,L),o(L,U),F||(W=[R(e,"input",b[7]),R(d,"input",b[8]),R(E,"click",b[6])],F=!0)},p(g,k){k&1&&e.value!==g[0]&&O(e,g[0]),k&2&&d.value!==g[1]&&O(d,g[1]),k&4&&x(q,g[2])},d(g){g&&a(t),g&&a(V),g&&a(I),F=!1,fe(W)}}}function me(b){let t,s,e,r,i,v,p,l,d,w;return{c(){t=h("p"),s=P("You need to login or create an account first!"),e=G(),r=h("a"),i=h("span"),v=P("Login"),p=G(),l=h("a"),d=h("span"),w=P("I need an account!"),this.h()},l(n){t=_(n,"P",{class:!0});var c=m(t);s=S(c,"You need to login or create an account first!"),c.forEach(a),e=T(n),r=_(n,"A",{class:!0,href:!0});var f=m(r);i=_(f,"SPAN",{class:!0});var E=m(i);v=S(E,"Login"),E.forEach(a),f.forEach(a),p=T(n),l=_(n,"A",{class:!0,href:!0});var y=m(l);d=_(y,"SPAN",{class:!0});var A=m(d);w=S(A,"I need an account!"),A.forEach(a),y.forEach(a),this.h()},h(){u(t,"class","error"),u(i,"class","front"),u(r,"class","button-link"),u(r,"href","/wordle/login"),u(d,"class","front"),u(l,"class","button-link"),u(l,"href","/wordle/create-user")},m(n,c){N(n,t,c),o(t,s),N(n,e,c),N(n,r,c),o(r,i),o(i,v),N(n,p,c),N(n,l,c),o(l,d),o(d,w)},p:$,d(n){n&&a(t),n&&a(e),n&&a(r),n&&a(p),n&&a(l)}}}function ve(b){let t,s,e,r,i,v,p,l,d;r=new pe({});function w(f,E){if(!f[5])return me;if(f[5]&&!f[4])return _e;if(f[4])return he;if(f[3])return de}let n=w(b),c=n&&n(b);return{c(){t=G(),s=h("div"),e=h("section"),se(r.$$.fragment),i=G(),v=h("h1"),p=P("Join an Existing Group"),l=G(),c&&c.c(),this.h()},l(f){ae('[data-svelte="svelte-1a9gxf3"]',document.head).forEach(a),t=T(f),s=_(f,"DIV",{class:!0});var y=m(s);e=_(y,"SECTION",{class:!0});var A=m(e);oe(r.$$.fragment,A),i=T(A),v=_(A,"H1",{class:!0});var j=m(v);p=S(j,"Join an Existing Group"),j.forEach(a),l=T(A),c&&c.l(A),A.forEach(a),y.forEach(a),this.h()},h(){document.title="Join a Group | Wordle VS",u(v,"class","svelte-1nhk1vy"),u(e,"class","wordle-section"),u(s,"class","wordle-wrapper")},m(f,E){N(f,t,E),N(f,s,E),o(s,e),le(r,e,null),o(e,i),o(e,v),o(v,p),o(e,l),c&&c.m(e,null),d=!0},p(f,[E]){n===(n=w(f))&&c?c.p(f,E):(c&&c.d(1),c=n&&n(f),c&&(c.c(),c.m(e,null)))},i(f){d||(ne(r.$$.fragment,f),d=!0)},o(f){ue(r.$$.fragment,f),d=!1},d(f){f&&a(t),f&&a(s),ie(r),c&&c.d()}}}function Ee(b,t,s){var c;let e="",r="",i="",v="",p="",l=(c=globalThis.localStorage)==null?void 0:c.getItem("token");async function d(){var f;if(!l){s(2,i="You are somehow not logged in anymore!");return}if(!e||!r){s(2,i="All those fields are required.");return}if(!/^[a-z0-9_]+$/i.test(e)){s(2,i="Group name must be alphanumeric.");return}if(!/^[a-z0-9@$!%*?&]+$/i.test(r)){s(2,i="Group code must be alphanumeric characters, @, $, !, %, *, ?, or &.");return}try{let y=await(await fetch("/api/wordle/joinGroup.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupName:e,groupCode:r,userToken:l})})).json();y.status==="success"?(s(2,i=""),s(4,p=y.message),(f=globalThis.localStorage)==null||f.setItem("hasGroups","true")):s(2,i=y.message)}catch(E){s(3,v=E)}}function w(){e=this.value,s(0,e)}function n(){r=this.value,s(1,r)}return[e,r,i,v,p,l,d,w,n]}class ye extends ee{constructor(t){super();te(this,t,Ee,ve,re,{})}}export{ye as default};
