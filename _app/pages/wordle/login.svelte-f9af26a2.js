import{S as te,i as se,s as re,k as V,e as c,w as ae,t as L,L as le,d as s,m as q,c as f,a as p,x as oe,h as j,b as a,g as U,J as t,y as ne,q as ue,o as ie,B as ce,j as $,Q as X,R as Z,T as fe}from"../../chunks/vendor-15834c12.js";import{W as pe}from"../../chunks/wordleNav-f5b7aec8.js";function he(y){let r,l,o,h;return{c(){r=c("p"),l=L(y[3]),o=c("br"),h=L("Form Error: Refresh and Try Again?"),this.h()},l(n){r=f(n,"P",{class:!0});var i=p(r);l=j(i,y[3]),o=f(i,"BR",{}),h=j(i,"Form Error: Refresh and Try Again?"),i.forEach(s),this.h()},h(){a(r,"class","error")},m(n,i){U(n,r,i),t(r,l),t(r,o),t(r,h)},p(n,i){i&8&&$(l,n[3])},d(n){n&&s(r)}}}function de(y){let r,l,o,h,n,i,N,g,v,T,E,d,u,m,_,b,P,S,I,A,C,B,O,D,G,F,k;return{c(){r=c("p"),l=L("You are currently logged in as: "),o=L(y[4]),h=V(),n=c("a"),i=c("span"),N=L("View My Profile"),v=V(),T=c("a"),E=c("span"),d=L("Play the game"),u=V(),m=c("button"),_=c("span"),b=L("Or logout"),P=V(),S=c("div"),I=c("a"),A=c("span"),C=L("Join a group"),B=V(),O=c("a"),D=c("span"),G=L("Create a Group"),this.h()},l(e){r=f(e,"P",{class:!0});var w=p(r);l=j(w,"You are currently logged in as: "),o=j(w,y[4]),w.forEach(s),h=q(e),n=f(e,"A",{href:!0,class:!0});var W=p(n);i=f(W,"SPAN",{class:!0});var J=p(i);N=j(J,"View My Profile"),J.forEach(s),W.forEach(s),v=q(e),T=f(e,"A",{href:!0,class:!0});var M=p(T);E=f(M,"SPAN",{class:!0});var Y=p(E);d=j(Y,"Play the game"),Y.forEach(s),M.forEach(s),u=q(e),m=f(e,"BUTTON",{class:!0});var H=p(m);_=f(H,"SPAN",{class:!0});var Q=p(_);b=j(Q,"Or logout"),Q.forEach(s),H.forEach(s),P=q(e),S=f(e,"DIV",{class:!0});var R=p(S);I=f(R,"A",{href:!0,class:!0});var z=p(I);A=f(z,"SPAN",{class:!0});var K=p(A);C=j(K,"Join a group"),K.forEach(s),z.forEach(s),B=q(R),O=f(R,"A",{href:!0,class:!0});var x=p(O);D=f(x,"SPAN",{class:!0});var ee=p(D);G=j(ee,"Create a Group"),ee.forEach(s),x.forEach(s),R.forEach(s),this.h()},h(){a(r,"class","success"),a(i,"class","front"),a(n,"href",g="/wordle/"+y[4]+"/profile"),a(n,"class","button-link"),a(E,"class","front"),a(T,"href","/wordle"),a(T,"class","button-link"),a(_,"class","front"),a(m,"class","button-link"),a(A,"class","front"),a(I,"href","/wordle/join-group"),a(I,"class","button-link"),a(D,"class","front"),a(O,"href","/wordle/create-group"),a(O,"class","button-link"),a(S,"class","separator")},m(e,w){U(e,r,w),t(r,l),t(r,o),U(e,h,w),U(e,n,w),t(n,i),t(i,N),U(e,v,w),U(e,T,w),t(T,E),t(E,d),U(e,u,w),U(e,m,w),t(m,_),t(_,b),U(e,P,w),U(e,S,w),t(S,I),t(I,A),t(A,C),t(S,B),t(S,O),t(O,D),t(D,G),F||(k=X(m,"click",y[6]),F=!0)},p(e,w){w&16&&$(o,e[4]),w&16&&g!==(g="/wordle/"+e[4]+"/profile")&&a(n,"href",g)},d(e){e&&s(r),e&&s(h),e&&s(n),e&&s(v),e&&s(T),e&&s(u),e&&s(m),e&&s(P),e&&s(S),F=!1,k()}}}function me(y){let r,l,o,h,n,i,N,g,v,T,E,d,u,m,_,b,P,S,I,A,C,B,O,D,G,F;return{c(){r=c("div"),l=c("div"),o=c("input"),h=V(),n=c("label"),i=L("Username"),N=V(),g=c("div"),v=c("input"),T=V(),E=c("label"),d=L("Password"),u=V(),m=c("button"),_=c("span"),b=L("Login! \u{1F60E}"),P=V(),S=c("p"),I=L(y[2]),A=V(),C=c("div"),B=c("a"),O=c("span"),D=L("Create A New Account"),this.h()},l(k){r=f(k,"DIV",{class:!0});var e=p(r);l=f(e,"DIV",{class:!0});var w=p(l);o=f(w,"INPUT",{id:!0,name:!0,placeholder:!0}),h=q(w),n=f(w,"LABEL",{for:!0});var W=p(n);i=j(W,"Username"),W.forEach(s),w.forEach(s),N=q(e),g=f(e,"DIV",{class:!0});var J=p(g);v=f(J,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0}),T=q(J),E=f(J,"LABEL",{for:!0});var M=p(E);d=j(M,"Password"),M.forEach(s),J.forEach(s),u=q(e),m=f(e,"BUTTON",{class:!0});var Y=p(m);_=f(Y,"SPAN",{class:!0});var H=p(_);b=j(H,"Login! \u{1F60E}"),H.forEach(s),Y.forEach(s),P=q(e),S=f(e,"P",{class:!0});var Q=p(S);I=j(Q,y[2]),Q.forEach(s),e.forEach(s),A=q(k),C=f(k,"DIV",{class:!0});var R=p(C);B=f(R,"A",{href:!0,class:!0});var z=p(B);O=f(z,"SPAN",{class:!0});var K=p(O);D=j(K,"Create A New Account"),K.forEach(s),z.forEach(s),R.forEach(s),this.h()},h(){a(o,"id","username"),a(o,"name","username"),a(o,"placeholder"," "),o.required=!0,a(n,"for","username"),a(l,"class","input-wrapper"),a(v,"id","password"),a(v,"name","password"),a(v,"type","password"),a(v,"placeholder"," "),v.required=!0,a(E,"for","password"),a(g,"class","input-wrapper"),a(_,"class","front"),a(m,"class","button-link"),a(S,"class","error"),a(r,"class","form"),a(O,"class","front"),a(B,"href","/wordle/create-user"),a(B,"class","button-link"),a(C,"class","separator")},m(k,e){U(k,r,e),t(r,l),t(l,o),Z(o,y[0]),t(l,h),t(l,n),t(n,i),t(r,N),t(r,g),t(g,v),Z(v,y[1]),t(g,T),t(g,E),t(E,d),t(r,u),t(r,m),t(m,_),t(_,b),t(r,P),t(r,S),t(S,I),U(k,A,e),U(k,C,e),t(C,B),t(B,O),t(O,D),G||(F=[X(o,"input",y[8]),X(v,"input",y[9]),X(m,"click",y[7])],G=!0)},p(k,e){e&1&&o.value!==k[0]&&Z(o,k[0]),e&2&&v.value!==k[1]&&Z(v,k[1]),e&4&&$(I,k[2])},d(k){k&&s(r),k&&s(A),k&&s(C),G=!1,fe(F)}}}function _e(y){let r,l,o,h,n,i,N,g,v;h=new pe({});function T(u,m){if(!u[5]&&!u[3])return me;if(u[5]&&u[4])return de;if(u[3])return he}let E=T(y),d=E&&E(y);return{c(){r=V(),l=c("div"),o=c("section"),ae(h.$$.fragment),n=V(),i=c("h1"),N=L("Login"),g=V(),d&&d.c(),this.h()},l(u){le('[data-svelte="svelte-q70bqm"]',document.head).forEach(s),r=q(u),l=f(u,"DIV",{class:!0});var _=p(l);o=f(_,"SECTION",{class:!0});var b=p(o);oe(h.$$.fragment,b),n=q(b),i=f(b,"H1",{class:!0});var P=p(i);N=j(P,"Login"),P.forEach(s),g=q(b),d&&d.l(b),b.forEach(s),_.forEach(s),this.h()},h(){document.title="Login | Wordle VS",a(i,"class","svelte-1nhk1vy"),a(o,"class","wordle-section"),a(l,"class","wordle-wrapper")},m(u,m){U(u,r,m),U(u,l,m),t(l,o),ne(h,o,null),t(o,n),t(o,i),t(i,N),t(o,g),d&&d.m(o,null),v=!0},p(u,[m]){E===(E=T(u))&&d?d.p(u,m):(d&&d.d(1),d=E&&E(u),d&&(d.c(),d.m(o,null)))},i(u){v||(ue(h.$$.fragment,u),v=!0)},o(u){ie(h.$$.fragment,u),v=!1},d(u){u&&s(r),u&&s(l),ce(h),d&&d.d()}}}function ve(y,r,l){var m;let o="",h="",n="",i="",N="",g=(m=globalThis.localStorage)==null?void 0:m.getItem("token");async function v(){if(g)try{let b=await(await fetch("/api/wordle/getUsername.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g})})).json();b.status==="success"?l(4,N=b.username):(l(3,i=b.message),T())}catch(_){l(3,i=_)}}v();function T(){var _,b,P;(_=globalThis.localStorage)==null||_.removeItem("token"),(b=globalThis.localStorage)==null||b.removeItem("hasGroups"),(P=globalThis.localStorage)==null||P.removeItem("gameState"),l(5,g=""),l(4,N="")}async function E(){var _,b,P,S;if(!o||!h){l(2,n="All those fields are required.");return}try{let A=await(await fetch("/api/wordle/login.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:h})})).json();A.status==="success"?(l(2,n=""),(_=globalThis.localStorage)==null||_.setItem("token",A.token),(b=globalThis.localStorage)==null||b.setItem("hasGroups",A.hasGroups),(P=globalThis.localStorage)==null||P.setItem("gameState",A.gameState),l(5,g=(S=globalThis.localStorage)==null?void 0:S.getItem("token")),l(4,N=A.username)):l(2,n=A.message)}catch(I){l(3,i=I)}}function d(){o=this.value,l(0,o)}function u(){h=this.value,l(1,h)}return[o,h,n,i,N,g,T,E,d,u]}class Ee extends te{constructor(r){super();se(this,r,ve,_e,re,{})}}export{Ee as default};
